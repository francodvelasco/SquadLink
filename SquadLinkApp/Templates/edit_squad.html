{% extends 'base.html' %}

{% block title %}{{ form.squad_name.value }} (Edit){% endblock %}

{% load static %}
{% block content %}

<form method="post" enctype="multipart/form-data">

    {% csrf_token %}
    <div id="custombg"></div>
    <div id="editsquad">
        <div id="squaddetails">
            <h1>
                Squad Details
            </h1>

            <div id="details">

                <div class="detail">
                    {{ form.squad_name.errors }}
                    <Label>Squad Name</Label><br>
                    {{ form.squad_name }}
                </div>
                <div class="detail">
                    {{ form.description.errors }}
                    <Label>Description</Label><br>
                    {{ form.description }}
                </div>
                <div class="detail">
                    {{ form.photo.errors }}
                    <Label>Squad Photo</Label><br>
                    {{ form.photo }}
                </div>
                <div class="detail">
                    {{ form.platforms.errors }}
                    <Label>Platforms</Label><br>
                    {{ form.platforms }}
                </div>
                <div class="detail">
                    {{ form.game.errors }}
                    <Label>Game</Label><br>
                    {{ form.game }}
                </div>
                <div class="detail">
                    {{ form.region.errors }}
                    <Label>Region</Label><br>
                    {{ form.region }}
                </div>
                <div class="detail">
                    {{ form.rank_lower_bound.errors }}
                    <Label>Lowest Rank</Label><br>
                    {{ form.rank_lower_bound }}
                    <br>
                    {{ form.rank_upper_bound.errors }}
                    <Label>Highest Rank</Label><br>
                    {{ form.rank_upper_bound }}
                </div>
                <div class="detail">
                    {{ form.languages.errors }}
                    <Label>Languages</Label><br>
                    {{ form.languages }}
                </div>
                <div class="detail">
                    {{ form.squad_size.errors }}
                    <Label>Squad Size</Label><br>
                    {{ form.squad_size }}
                </div>
            </div>
        </div>
        <div id="managemembers">
            <h1>
                Manage Requests
            </h1>

            <div id="members">
                {% for member in lobby.squad_members.all %}
                <div class="member">
                    <div class="photo">
                        <a href="{% url 'UserProfile:view-external-profile' username=member.user.username%}">
                            <img src="{{ member.profile_image.url }}" alt="Profile picture of {{member.user.username}}"
                                height="100px"></a>
                    </div>
                    <div class="username">
                        <a
                            href="{% url 'UserProfile:view-external-profile' username=member.user.username%}">{{member.user.username}}<span></span></a>
                    </div>
                    <div class="settings">
                        <svg width="17" height="19" viewBox="0 0 17 19" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M8.50008 10.3867C8.89128 10.3867 9.20841 10.0509 9.20841 9.63672C9.20841 9.22251 8.89128 8.88672 8.50008 8.88672C8.10888 8.88672 7.79175 9.22251 7.79175 9.63672C7.79175 10.0509 8.10888 10.3867 8.50008 10.3867Z"
                                stroke="#EEEEEE" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                            <path
                                d="M13.4583 10.3867C13.8495 10.3867 14.1667 10.0509 14.1667 9.63672C14.1667 9.22251 13.8495 8.88672 13.4583 8.88672C13.0671 8.88672 12.75 9.22251 12.75 9.63672C12.75 10.0509 13.0671 10.3867 13.4583 10.3867Z"
                                stroke="#EEEEEE" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                            <path
                                d="M3.54159 10.3867C3.93279 10.3867 4.24992 10.0509 4.24992 9.63672C4.24992 9.22251 3.93279 8.88672 3.54159 8.88672C3.15038 8.88672 2.83325 9.22251 2.83325 9.63672C2.83325 10.0509 3.15038 10.3867 3.54159 10.3867Z"
                                stroke="#EEEEEE" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                        </svg>
                    </div>
                    <a class="accept" href="">
                        <svg width="20" height="16" viewBox="0 0 20 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M18.5669 4.35603L14.2028 8.71207L12.8915 7.40079L11.4564 8.83589L14.2028 11.5802L20 5.79316L18.5669 4.35603ZM2.02984 4.05968C2.02984 6.37369 3.7755 8.11936 6.08952 8.11936C8.40353 8.11936 10.1492 6.37369 10.1492 4.05968C10.1492 1.74566 8.40353 0 6.08952 0C3.7755 0 2.02984 1.74566 2.02984 4.05968ZM8.11936 4.05968C8.11936 5.25525 7.28509 6.08952 6.08952 6.08952C4.89394 6.08952 4.05968 5.25525 4.05968 4.05968C4.05968 2.8641 4.89394 2.02984 6.08952 2.02984C7.28509 2.02984 8.11936 2.8641 8.11936 4.05968ZM2.02984 14.2089C2.02984 12.5302 3.39592 11.1641 5.0746 11.1641H7.10444C8.78311 11.1641 10.1492 12.5302 10.1492 14.2089V15.2238H12.179V14.2089C12.179 11.4107 9.90257 9.13427 7.10444 9.13427H5.0746C2.27646 9.13427 0 11.4107 0 14.2089V15.2238H2.02984V14.2089Z"
                                fill="white" />
                        </svg>
                    </a>
                    <a class="reject" href="{% url 'SquadLobby:kick-user' lobby=lobby.id to_kick=member.id %}">
                        <svg width="20" height="16" viewBox="0 0 20 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M13.9098 12.0741L16.2369 9.74704L18.565 12.0751L20 10.6401L17.6729 8.31303L20 5.98594L18.565 4.55092L16.2379 6.87801L13.9108 4.55092L12.4758 5.98594L14.8018 8.31202L12.4748 10.6391L13.9098 12.0741ZM10.1487 4.25356C10.1487 1.93966 8.4031 0.194092 6.08921 0.194092C3.77531 0.194092 2.02974 1.93966 2.02974 4.25356C2.02974 6.56746 3.77531 8.31303 6.08921 8.31303C8.4031 8.31303 10.1487 6.56746 10.1487 4.25356ZM4.05947 4.25356C4.05947 3.05805 4.89369 2.22383 6.08921 2.22383C7.28472 2.22383 8.11894 3.05805 8.11894 4.25356C8.11894 5.44908 7.28472 6.2833 6.08921 6.2833C4.89369 6.2833 4.05947 5.44908 4.05947 4.25356ZM2.02974 14.4022C2.02974 12.7236 3.39575 11.3576 5.07434 11.3576H7.10407C8.78267 11.3576 10.1487 12.7236 10.1487 14.4022V15.4171H12.1784V14.4022C12.1784 11.6042 9.90207 9.3279 7.10407 9.3279H5.07434C2.27635 9.3279 0 11.6042 0 14.4022V15.4171H2.02974V14.4022Z"
                                fill="white" />
                        </svg>
                    </a>
                </div>
                {% endfor %}
            </div>
        </div>
        <div id="buttons">
            <a href="{% url 'SquadLobby:lobby-details' pk=lobby.id %}">Back</a><br>
            <button type="submit">Save</button>
        </div>

    </div>

</form>
{% endblock %}